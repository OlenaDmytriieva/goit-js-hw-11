{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["'use strict';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst loaderElement = document.querySelector('.loader');\nlet myGallery;\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const request = form.querySelector('input').value.trim();\n\n  loaderElement.style.display = 'block';\n  let loadingInterval = setInterval(() => {}, 1000);\n\n  if (request) {\n    fetch(\n      `https://pixabay.com/api/?key=42368868-12588a31d2c2b3196976be5e8&q=${request}&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response is not ok');\n        }\n        return response.json();\n      })\n      .then(data => {\n        const images = data.hits;\n        if (images.length === 0) {\n          iziToast.error({\n            title: 'Error',\n            titleColor: '#FFF',\n            messageColor: '#FFF',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n            theme: 'dark',\n            timeout: 5000,\n          });\n        } else {\n          myGallery = document.querySelector('.gallery');\n\n          createGallery(images);\n\n          let gallery = new SimpleLightbox('.gallery a', {\n            captionDelay: 250,\n            captionsData: 'alt',\n          });\n\n          gallery.on('show.simplelightbox', function () {});\n          gallery.refresh();\n        }\n        loaderElement.style.display = 'none';\n        clearInterval(loadingInterval);\n      })\n      .catch(error => {\n        console.error('Error:', error);\n        loaderElement.style.display = 'none';\n        clearInterval(loadingInterval);\n      });\n  } else {\n    iziToast.warning({\n      title: 'Caution',\n      titleColor: '#FFF',\n      messageColor: '#FFF',\n      message: 'This input field cannot be empty. Please enter your request!',\n      backgroundColor: '#FFA000',\n      position: 'topRight',\n      theme: 'dark',\n      timeout: 5000,\n    });\n    loaderElement.style.display = 'none';\n    clearInterval(loadingInterval);\n  }\n});\n\nfunction createGallery(images) {\n  const result = images\n    .map(image => {\n      return `<li class=\"gallery-item\">\n                        <div class=\"box\">\n                          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                            <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" data-likes=\"${image.likes}\" data-views=\"${image.views}\" data-comments=\"${image.comments}\" data-downloads=\"${image.downloads}\"/>\n                            <div class=\"img-card\">\n                              <div class=\"img-data\">\n        <h4 class=\"data-title\">Likes</h4>\n        <p class=\"data-value\">\n          ${image.likes}\n        </p>\n      </div>\n      <div class=\"img-data\">\n        <h4 class=\"data-title\">Views</h4>\n        <p class=\"data-value\">\n          ${image.views}\n        </p>\n      </div>\n      <div class=\"img-data\">\n        <h4 class=\"data-title\">Comments</h4>\n        <p class=\"data-value\">\n          ${image.comments}\n        </p>\n      </div>\n      <div class=\"img-data\">\n        <h4 class=\"data-title\">Downloads</h4>\n        <p class=\"data-value\">\n          ${image.downloads}\n        </p>\n      </div>\n                            </div>\n                          </a>\n                        </div>\n                      </li>`;\n    })\n    .join('\\n');\n\n  myGallery.innerHTML = result;\n}\n"],"names":["form","loaderElement","myGallery","e","request","loadingInterval","response","data","images","iziToast","createGallery","gallery","SimpleLightbox","error","result","image"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAgB,SAAS,cAAc,SAAS,EACtD,IAAIC,EAEJF,EAAK,iBAAiB,SAAUG,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAUJ,EAAK,cAAc,OAAO,EAAE,MAAM,OAElDC,EAAc,MAAM,QAAU,QAC9B,IAAII,EAAkB,YAAY,IAAM,CAAE,EAAE,GAAI,EAE5CD,EACF,MACE,qEAAqEA,CAAO,0DAC7E,EACE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,4BAA4B,EAE9C,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAASD,EAAK,KACpB,GAAIC,EAAO,SAAW,EACpBC,EAAS,MAAM,CACb,MAAO,QACP,WAAY,OACZ,aAAc,OACd,QACE,2EACF,gBAAiB,UACjB,SAAU,WACV,MAAO,OACP,QAAS,GACrB,CAAW,MACI,CACLP,EAAY,SAAS,cAAc,UAAU,EAE7CQ,EAAcF,CAAM,EAEpB,IAAIG,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,IACd,aAAc,KAC1B,CAAW,EAEDD,EAAQ,GAAG,sBAAuB,UAAY,CAAE,CAAA,EAChDA,EAAQ,QAAO,CAChB,CACDV,EAAc,MAAM,QAAU,OAC9B,cAAcI,CAAe,CACrC,CAAO,EACA,MAAMQ,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,EAC7BZ,EAAc,MAAM,QAAU,OAC9B,cAAcI,CAAe,CACrC,CAAO,GAEHI,EAAS,QAAQ,CACf,MAAO,UACP,WAAY,OACZ,aAAc,OACd,QAAS,+DACT,gBAAiB,UACjB,SAAU,WACV,MAAO,OACP,QAAS,GACf,CAAK,EACDR,EAAc,MAAM,QAAU,OAC9B,cAAcI,CAAe,EAEjC,CAAC,EAED,SAASK,EAAcF,EAAQ,CAC7B,MAAMM,EAASN,EACZ,IAAIO,GACI;AAAA;AAAA,0DAE6CA,EAAM,aAAa;AAAA,8DACfA,EAAM,YAAY,UAAUA,EAAM,IAAI,iBAAiBA,EAAM,KAAK,iBAAiBA,EAAM,KAAK,oBAAoBA,EAAM,QAAQ,qBAAqBA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,YAKtNA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAOtB,EACA,KAAK;AAAA,CAAI,EAEZb,EAAU,UAAYY,CACxB"}